
class Eva01Fists : eva01weapon {
	
	bool right;
	
	default {
		
		//$Title "EvaFists"
		
		weapon.ammouse 0;
		weapon.ammotype "";
		weapon.ammogive 0;
		weapon.slotnumber 1;
		//weapon.readysound "";
		//weapon.upsound "";
		
		+WEAPON.AMMO_OPTIONAL;
		+WEAPON.MELEEWEAPON;
	}
	
	states {
		ready:
			TNT1 A 0 { invoker.right = true; }
			TNT1 A 8 A_WeaponReady;
			wait;
		select:
			TNT1 A 1 A_Raise;
			loop;
		deselect:
			TNT1 A 1 A_Lower;
			loop;
		fire:
			E1FI A 0 { invoker.right = !invoker.right; }
			E1FI A 0 A_OverlayFlags(1, PSPF_FLIP|PSPF_MIRROR, invoker.right);
			E1FI AB 3;
			E1FI C 8 {
				A_StartSound("EvaDoom/Weapon/EvaFists/Fire");
				A_CustomPunch(random(80,180), true, CPF_NOTURN, "BulletPuff", 80);
			}
			E1FI BA 3;
			E1FI A 1 A_ReFire;
			goto ready;
	}
}