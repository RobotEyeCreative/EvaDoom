

// TODO: View height only updates when changing your z height. (BUG?)
// TODO: Mugshot changes have to be handled through zscript hud.
// TODO: Switch falling damage.

class evangelionPlayer : PlayerPawn {
	
	int restTime;
	int moveTime;
	
	string lastWeapon;
	
	mixin atfieldhandling;
	
	default {
		
		//$Category Evangelion
		//$Title "EvangelionPlayer"
		
		health 100;
		player.MaxHealth 100;
		player.DisplayName "EvangelionPlayer";
		player.FallingScreamSpeed 100.0, 110.0;
		
		player.SoundClass "shinji";
		mass 90;
		player.AirCapacity 5;
		player.ViewHeight 40;
		player.AttackZoffset 16;
		player.ForwardMove 0.5, 0.7;
		player.SideMove 0.4, 0.5;
		player.JumpZ 8.0;
		player.ViewBob 0.1;
		player.face "P01";
		
		//player.weaponslot 1, "Eva01Fists";
		//player.weaponslot 2, "Eva01HandGun";
		//player.weaponslot 3, "Eva01AssaultRifle";
		
		//player.startitem "Eva01Fists", 1;
		//player.startitem "Eva01HandGun", 1;
		player.startitem "Bullets", 0;
		player.startitem "HeavyBullets", 0;
		player.startitem "evaenergy", 0;
		player.startitem "evasynchronization", 0;
		player.startitem "atfield", 0;
		player.startitem "enterEva00", 0;
		player.startitem "enterEva01", 0;
		player.startitem "enterEva02", 0;
		
		damagefactor "falling", 0.0;
		
		//+NOBLOOD;
		//+NOTELEFRAG;
		//+PLAYERPAWN.NOTHRUSTWHENINVUL;
	}
	
	states {
		
		Spawn:
			PLAY A 4;
			Loop;
		See:
			PLAY ABCD 4;
			Loop;
		Missile:
			PLAY E 12;
			Goto Spawn;
		Melee:
			PLAY F 6 BRIGHT;
			Goto Missile;
		Pain:
			PLAY G 4;
			PLAY G 4 A_Pain;
			Goto Spawn;
		Death:
			PLAY H 0 A_PlayerSkinCheck("AltSkinDeath");
		Death1:
			PLAY H 10;
			PLAY I 10 A_PlayerScream;
			PLAY J 10 A_NoBlocking;
			PLAY KLM 10;
			PLAY N -1;
			Stop;
		XDeath:
			PLAY O 0 A_PlayerSkinCheck("AltSkinXDeath");
		XDeath1:
			PLAY O 5;
			PLAY P 5 A_XScream;
			PLAY Q 5 A_NoBlocking;
			PLAY RSTUV 5;
			PLAY W -1;
			Stop;
		AltSkinDeath:
			PLAY H 6;
			PLAY I 6 A_PlayerScream;
			PLAY JK 6;
			PLAY L 6 A_NoBlocking;
			PLAY MNO 6;
			PLAY P -1;
			Stop;
		AltSkinXDeath:
			PLAY Q 5 A_PlayerScream;
			PLAY R 0 A_NoBlocking;
			PLAY R 5 A_SkullPop;
			PLAY STUVWX 5;
			PLAY Y -1;
			Stop;
	}
}